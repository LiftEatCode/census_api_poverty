# census_api_poverty
Skills test for Entera

Broke down the code into multiple files for readability.

step1: create database and schema in postgres

step2: run files in the following order for results.

file explanation/order:

--------------------------------------------------------------------------------------
1st file: initial_api_call.py:

this file connects to the api and pulls a few data points from the Census API 
it then parses the utf-8 formatted return and takes out all of the extra characters
next it reads in the data gathered into a csv
census.csv is generated. 
i have included this file in the repository but it will generate once you run this file

---------------------------------------------------------------------------------------
2nd file: detailed_api_call.py

This file is a more detailed look at the census API as per poverty
using all the codes it uses request to make API call
Then parses out all of the extra characters in the data generated by the API
the data is then writen into a a CSV file
census_detailed.csv is generated.

-----------------------------------------------------------------------------------------
3rd & 4th file: create_table.py & create_table2.py

This file uses psycopg2 to connect to postgres database
it then creates the table(s) and closes connection

-----------------------------------------------------------------------------------------

5th & 6th file: summaryCSV_insert.py & detailedCSV_insert.py

This file uses psycopg2 and csv to insert the records into the Postgres database.
once the records are entered connection is closed and the changes are committed to DB

-----------------------------------------------------------------------------------------

7th file: top_impovershed_zips.py:

This file queries the database of the top 10 impovershed zipcodes in the US.
uses Psycopg to read in from the database then uses pandas to read in data to a DataFrame
the data frame with results is printed to the screen.

----------------------------------------------------------------------------------------

8th file: impovershed_top10_pie_chart.py 
requires results.csv, pandas, and bokeh

used the bokeh and pandas to generate a pie chart showing the top 10 impovershed zipcode and estimated poverty
hover over the slices and it will show zip both datasets. 
-generates top_impovershed_zipcodes.html - which is a file containing a html version of the chart.

-----------------------------------------------------------------------------------------------------
generated files are also included in the repo

census.csv
census_detailed.csv
results.csv

results is required for the pie chart to generate but the rest of the files will be 
generated from running the files in the above order.

================================================================================================================








